if (self.CavalryLogger) { CavalryLogger.start_js(["dmLOU"]); }

__d('XUITypeaheadWrapper.react',['React','SearchableEntry','XUITypeahead.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(m){'use strict';i.constructor.call(this,m);l.call(this);var n=m.initialEntry||null,o=n?n.getTitle():'';this.state={queryString:o,selectedEntry:n};}k.prototype.render=function(){'use strict';return c('React').createElement('span',null,this.$XUITypeaheadWrapper1(),c('React').createElement(c('XUITypeahead.react'),{tallInput:this.props.tallInput,viewStyle:this.props.viewStyle,queryString:this.state.queryString,selectedEntry:this.state.selectedEntry,className:this.props.className,placeholder:this.props.placeholder,searchSource:this.props.searchSource,selectOnBlur:this.props.selectOnBlur,showEntriesOnFocus:this.props.showEntriesOnFocus,focusedOnInit:this.props.focusedOnInit,onSelectAttempt:this.$XUITypeaheadWrapper2,onBlur:this.$XUITypeaheadWrapper5,onClear:this.$XUITypeaheadWrapper4,onChange:this.$XUITypeaheadWrapper3,autoHighlight:true,clearable:this.props.clearable,showPhoto:this.props.showPhoto,highlightOnSelect:this.props.highlightOnSelect,maxEntries:this.props.maxEntries,excludedEntries:this.props.excludedEntries,inputID:this.props.inputID}));};k.propTypes={name:j.string.isRequired,className:j.string,tallInput:j.bool.isRequired,placeholder:j.string,initialEntry:j.instanceOf(c('SearchableEntry')),viewStyle:j.oneOf(['textonly','rich']).isRequired,searchSource:j.object.isRequired,selectOnBlur:j.bool,clearIfNoSelection:j.bool,showEntriesOnFocus:j.bool,focusedOnInit:j.bool,clearable:j.bool,showPhoto:j.bool,highlightOnSelect:j.bool,maxEntries:j.number,excludedEntries:j.object,inputID:j.string};var l=function m(){this.$XUITypeaheadWrapper1=function(){var n=this.state.selectedEntry,o=n?n.getUniqueID():'';return c('React').createElement('input',{type:'hidden',name:this.props.name,value:o});}.bind(this);this.$XUITypeaheadWrapper2=function(n){this.setState({queryString:n.getTitle(),selectedEntry:n});}.bind(this);this.$XUITypeaheadWrapper3=function(event){this.setState({queryString:event.target.value,selectedEntry:null});}.bind(this);this.$XUITypeaheadWrapper4=function(event){this.setState({queryString:'',selectedEntry:null});}.bind(this);this.$XUITypeaheadWrapper5=function(){if(this.props.clearIfNoSelection)this.forceUpdate(function(){if(!this.state.selectedEntry)this.setState({queryString:''});}.bind(this));}.bind(this);};f.exports=k;}),null);
__d('EmployeePrefs',['Dock','DOM','Event','Keys','MenuDeprecated','NubController','Parent','URI','goURI'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('NubController'));i=h&&h.prototype;j.prototype.init=function(k,l){'use strict';i.init.call(this,k);this.menu=l;c('Dock').registerNubController(k,this);c('Event').listen(k,'keydown',function(event){var m=c('Event').getKeyCode(event)||event.which;switch(m){case c('Keys').UP:case c('Keys').DOWN:var n=c('Parent').byClass(event.getTarget(),'fbNubButton');if(n){this.show();var o=c('MenuDeprecated').getItems(l);c('MenuDeprecated').focusItem(o[m===c('Keys').UP?o.length-1:0]);return false;}break;case c('Keys').ESC:this.hide();setTimeout(function(){c('DOM').find(k,'a.fbNubButton').focus();},0);break;}}.bind(this));this.subscribe('show',this.onShow.bind(this));this.subscribe('hide',this.onHide.bind(this));this.buttonContentChanged();};j.prototype.onShow=function(){'use strict';c('MenuDeprecated').register(this.menu);};j.prototype.onHide=function(){'use strict';c('MenuDeprecated').unregister(this.menu);};j.prototype.getSamePageURLOnNewTier=function(k,l){'use strict';var m='www'+(l?'.'+l:'')+'.facebook.com';return new (c('URI'))(window.location.href).setProtocol(k.getProtocol()).setDomain(m).setSubdomain(k.getSubdomain()).setPath(k.getPath()).setQueryData(k.getQueryData()).setFragment(k.getFragment());};j.prototype.goToTier=function(k){'use strict';c('goURI')(this.getSamePageURLOnNewTier(c('URI').getRequestURI(),k));return false;};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('EmployeePrefsNub',['Cookie','EmployeePrefs','Event'],(function a(b,c,d,e,f,g){'use strict';function h(j){var k=j.nubRoot,l=j.menu,m=j.viewTheSiteIn,n=new (c('EmployeePrefs'))();n.init(k,l);Array.from(m.el.querySelectorAll('[data-tierid]')).forEach(function(o){var p=o.dataset.tierid,q=m.data.get(p);if(q)c('Event').listen(o,'click',function(r){return n.goToTier(q.target_tier);});});}var i={init:h};f.exports=i;}),null);
__d('FBTraceHelper',['Arbiter','CSS','Event','URI'],(function a(b,c,d,e,f,g){var h={refreshPageWithFBTraceOn:function i(){var j=new (c('URI'))();j.addQueryData('fbtrace',1);j.go(true);},registerButtons:function i(j,k,l){c('Event').listen(k,'click',this.refreshPageWithFBTraceOn);if(l)this._registerTransitionCallback(j,k);},_transitionCallback:function i(j,k){c('CSS').hide(j);c('CSS').show(k);},_registerTransitionCallback:function i(j,k){c('Arbiter').subscribeOnce('page_transition',function(){h._transitionCallback(j,k);});}};f.exports=h;}),null);
__d('TailorNubHelper',['Promise','AsyncRequest','CSS','DOM','Event','PageTransitions','SimpleXUIDialog','URI','forEachObject','ge'],(function a(b,c,d,e,f,g){'use strict';var h=[],i={},j={},k=true,l=false,m=false;function n(){var p=window.location.hostname,q=p.match(/\.[^.]+\.sb\.facebook\.com/),r=q?q[0]:'.intern.facebook.com';return 'our'+r;}var o={registerCycleStages:function p(q,r,s,t){i[r]=t;c('forEachObject')(s,function(u,v){c('Event').listen(u,'click',function(){o.switchStage(q,r,v);});});o.init();},init:function p(){if(!k){o.showElementWithIDIfExist('fbTailorNub');Object.keys(j).forEach(o.showCycle);}m=true;},markCycleAsInUse:function p(q){if(j[q])return;if(k){if(m)o.showElementWithIDIfExist('fbTailorNub');k=false;}j[q]=true;if(m)o.showCycle(q);},showCycle:function p(q){o.showElementWithIDIfExist('tailorNubIcon-'+q);o.showElementWithIDIfExist('tailorNubMenu-'+q);},showElementWithIDIfExist:function p(q){var r=c('ge')(q);if(r)r.style.display='inline-block';},switchStage:function p(q,r,s){c('Promise').all(h.map(function(t){return t(q,r,s);})).then(function(t){var u=t.reverse().find(function(x){return x!==null;});if(!u)u=c('PageTransitions').getMostRecentURI();if(typeof u==='string')u=new (c('URI'))(u);if(!u.getDomain())u.setDomain(window.location.hostname);if(!u.getProtocol())u.setProtocol('https');var v=new (c('URI'))('/intern/tailor/switch').setDomain(n()).setProtocol('https'),w=u;new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(v).setMethod('POST').setData({cycle:r,stage:s}).setHandler(function(x){w.go(true);}).setErrorHandler(function(x){c('SimpleXUIDialog').show('It was not possible to change stage, '+'be sure to have access to intern.','Error');}).send();}).done();},registerHideNubsButtons:function p(q,r){c('Event').listen(q,'click',o.toggleOtherNubs);c('Event').listen(r,'click',o.hideAllNubs);},toggleOtherNubs:function p(){var q=c('ge')('pagelet_dock'),r=c('DOM').scry(q,'.fbNub');r.forEach(function(s){if(s.id!=='fbTailorNub')if(l){c('CSS').show(s);}else c('CSS').hide(s);});l=!l;},hideAllNubs:function p(){var q=c('ge')('pagelet_dock');if(q)c('CSS').hide(q);},getCurrentStageID:function p(q){return i[q];},registerSwitchCallback:function p(q){h.push(q);}};f.exports=o;}),null);
__d('TrafficNub',['Event'],(function a(b,c,d,e,f,g){var h={bindDialog:function i(j,k){c('Event').listen(j,'click',k.show.bind(k));}};f.exports=h;}),null);
__d('LayerHideOnSuccess',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe('success',this._layer.hide.bind(this._layer));};h.prototype.disable=function(){'use strict';if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};Object.assign(h.prototype,{_subscription:null});f.exports=h;}),null);