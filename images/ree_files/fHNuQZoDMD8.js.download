if (self.CavalryLogger) { CavalryLogger.start_js(["qOtUL"]); }

__d('MessagesEmoticons.react',['cx','fbt','Grid.react','React','ShimButton.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Grid.react').GridItem,m=c('React').PropTypes,n=8,o={smile:i._("\u0645\u0628\u062a\u0633\u0645"),frown:i._("\u062a\u0639\u0628\u064a\u0631 \u0639\u0627\u0628\u0633"),tongue:i._("\u0644\u0633\u0627\u0646"),grin:i._("\u0627\u0628\u062a\u0633\u0627\u0645\u0629 \u0639\u0631\u064a\u0636\u0629"),gasp:i._("\u062a\u0646\u0647\u064a\u062f\u0629"),wink:i._("\u063a\u0645\u0632\u0629"),pacman:i._("\u0628\u0627\u0643\u0645\u0627\u0646"),grumpy:i._("\u0645\u062a\u0628\u0631\u0645"),unsure:i._("\u063a\u064a\u0631 \u0648\u0627\u062b\u0642"),cry:i._("\u0628\u0643\u0627\u0621"),kiki:i._("\u0643\u064a\u0643\u064a"),glasses:i._("\u0646\u0638\u0627\u0631\u0627\u062a"),sunglasses:i._("\u0646\u0638\u0627\u0631\u0627\u062a \u0634\u0645\u0633\u064a\u0629"),heart:i._("\u0642\u0644\u0628"),devil:i._("\u0634\u0631\u064a\u0631"),angel:i._("\u0645\u0644\u0627\u0643"),squint:i._("\u063a\u0645\u0632\u0629"),confused:i._("\u0645\u0631\u062a\u0628\u0643"),upset:i._("\u063a\u0627\u0636\u0628"),colonthree:i._("colonthree"),like:i._("\u0623\u0639\u062c\u0628\u0646\u064a")};j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.getEmoticons=function(){return Object.keys(o).map(function(v){return c('React').createElement(l,{key:v},c('React').createElement('div',{className:"panelCell"},c('React').createElement(c('ShimButton.react'),{'aria-label':o[v],className:'emoticon emoticon_'+v,form:'link',onClick:function(){return this.props.onEmoticonSelect(v);}.bind(this)})));}.bind(this));}.bind(this),r;}p.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"emoticonsTable"},c('React').createElement(c('Grid.react'),{cols:n,alignv:'middle',alignh:'center',spacing:'pam'},this.getEmoticons()));};p.propTypes={onEmoticonSelect:m.func};p.defaultProps={onEmoticonSelect:c('emptyFunction')};f.exports=p;}),null);
__d('ReactAlbumPermalinkComposer.react',['cx','LitestandComposer','React','ReactComposerAttachmentType','ReactComposerAudienceActions','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerEvents','ReactComposerFeedMediaPostButtonContainer.react','ReactComposerFeedPostButtonContainer.react','ReactComposerFocusInit','ReactComposerLoggingName','ReactComposerMediaEagerAttachment.react','ReactComposerStatusEagerAttachment.react','ReactComposerWithSprouts.react','ReactComposerSproutsStatusAndMediaSelector.react','Arbiter','$'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactAlbumPermalinkComposer',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,collectionsID:i.oneOfType([i.string,i.number]).isRequired},componentDidMount:function k(){var l=this.props,m=l.collectionsID,n=l.contextConfig;c('LitestandComposer').initComposer(n.composerID);c('ReactComposerFocusInit').handler(c('$')('album_react_composer_container'),n.composerID,n.actorID,n.gks,n.jsModules.composerFocus,true);c('ReactComposerAudienceActions').setCollectionIDWithoutLogging(n.composerID,m.toString());if(this.props.focus)c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+n.composerID);},render:function k(){var l=c('React').createElement(c('ReactComposerWithSprouts.react'),{defaultAttachmentOnExpand:c('ReactComposerAttachmentType').STATUS,innerProps:{className:"_292i",loggingConfig:this.props.config.loggingConfig},expandOnInit:false},this._renderHeader(),c('React').createElement(c('ReactComposerBodyContainer.react'),{expanded:this.props.config.showExpandedComposer},this._renderStatusAttachment(),this._renderMediaAttachment()));return l;},_renderHeader:function k(){var l=this.props.config.attachmentsConfig,m=[];if(l[c('ReactComposerAttachmentType').STATUS].enabled)m.push(c('React').createElement(c('ReactComposerSproutsStatusAndMediaSelector.react'),{key:c('ReactComposerLoggingName').STATUS_TAB_SELECTOR,label:l[c('ReactComposerAttachmentType').STATUS].defaultTabTitle}));return c('React').createElement('div',{className:"_3ubp _sg2"},m);},_renderStatusAttachment:function k(){if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].enabled)return null;var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].placeholderText;return c('React').createElement(c('ReactComposerStatusEagerAttachment.react'),{key:'status',config:this.props.config,selected:true,postButtonModule:c('ReactComposerFeedPostButtonContainer.react'),placeholder:l});},_renderMediaAttachment:function k(){if(!this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA].enabled)return null;return c('React').createElement(c('ReactComposerMediaEagerAttachment.react'),{key:'media',config:this.props.config,postButtonModule:c('ReactComposerFeedMediaPostButtonContainer.react'),selected:false});}});f.exports=j;}),null);
__d('getViewerRecordID',['RelayStore'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayStore').getStoreData();function i(){return h.getCachedStore().getDataID('viewer');}f.exports=i;}),null);
__d('StickersFlyoutPackSelector.react',['cx','fbt','ix','Animation','Image.react','Link.react','Locale','React','ReactDOM','RelayClassic','RelayAPIConfig','RelayMutation','RelayMutationType','RelayQL','RelayStore','StickersConfig','StickersActions','StickersStoreController','StickerConstants','StickerInterfaces','XUIBadge.react','emptyFunction','getObjectValues','getViewerRecordID'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n,o=c('React').PropTypes,p=4,q=200,r=i._("\u0645\u062a\u062c\u0631 \u0627\u0644\u0645\u0644\u0635\u0642\u0627\u062a"),s=function w(x){if(x.id==c('StickerConstants').SEARCH_PACK_ID)return j("87147");if(x.id==c('StickerConstants').MRU_STICKER_PACK)return j("87145");if(x.id==c('StickerConstants').EMOTICON_PACK_ID)return j("87143");if(x.id==c('StickerConstants').OZ_PACK_ID)return x.icon;return x.thumbnail_image?x.thumbnail_image.uri:null;},t=function w(x){var y=x.pack,z=c('StickersConfig').search_pack?x.index===1||x.index===2:x.index===1,aa="_5r8a"+(x.selected?' '+"_5r8b":'')+(y.id==c('StickerConstants').MRU_STICKER_PACK?' '+"_5qcj":'')+(y.id==c('StickerConstants').SEARCH_PACK_ID?' '+"_5qck":'')+(z?' '+"_eb3":''),ba=x.isComments&&!y.is_comments_capable&&y.id!==c('StickerConstants').MRU_STICKER_PACK&&y.id!==c('StickerConstants').SEARCH_PACK_ID&&y.id!==c('StickerConstants').EMOTICON_PACK_ID,ca=i._("\u0647\u0630\u0647 \u0627\u0644\u062d\u0632\u0645\u0629 \u0645\u062a\u0648\u0641\u0631\u0629 \u0641\u0642\u0637 \u0641\u064a \u0627\u0644\u0635\u0648\u0631"),da=i._("\u0647\u0630\u0647 \u0627\u0644\u062d\u0632\u0645\u0629 \u0645\u062a\u0648\u0641\u0631\u0629 \u0641\u0642\u0637 \u0641\u064a \u0627\u0644\u0631\u0633\u0627\u0626\u0644"),ea=ba?c('emptyFunction'):function(){return x.onClick(y.id);},fa=s(y);if(fa===null)return null;var ga=!y.is_messenger_capable&&y.is_composer_capable?ca:da;return c('React').createElement(c('Link.react'),{'aria-label':ba?ga:y.name,className:aa,'data-hover':'tooltip','data-id':y.id,'data-tooltip-content':ba?ga:y.name,onClick:ea,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{className:(ba?"_2ji6":'')+(' '+"_5r8c")+(c('StickersConfig').search_pack?' '+"_1viy":''),src:fa}));};t.propTypes={index:o.number,isComments:o.bool,onClick:o.func,pack:o.object.isRequired,selected:o.bool};t.defaultProps={isComments:false,onClick:c('emptyFunction')};k=babelHelpers.inherits(u,c('React').Component);l=k&&k.prototype;function u(){var w,x;for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=l.constructor).call.apply(w,[this].concat(z)),this.state={animating:false,page:0},this.$StickersFlyoutPackSelector10=function(){this.$StickersFlyoutPackSelector8()&&this.$StickersFlyoutPackSelector4(this.state.page-1,q);}.bind(this),this.$StickersFlyoutPackSelector11=function(){this.$StickersFlyoutPackSelector9()&&this.$StickersFlyoutPackSelector4(this.state.page+1,q);}.bind(this),this.$StickersFlyoutPackSelector12=function(){c('StickersStoreController').showStore(null,this.props.stickerInterface==c('StickerInterfaces').COMPOSER);c('RelayStore').commitUpdate(new v({actor_id:c('RelayAPIConfig').actorID}),{onSuccess:c('emptyFunction'),onFailure:c('emptyFunction')});}.bind(this),x;}u.prototype.componentDidMount=function(){if(this.props.selectedPackID)return;this.$StickersFlyoutPackSelector1();};u.prototype.shouldComponentUpdate=function(w,x){return !x.animating;};u.prototype.componentWillReceiveProps=function(w){if(w.selectedPackID)return;this.$StickersFlyoutPackSelector1();};u.prototype.onFlyoutShown=function(){if(this.$StickersFlyoutPackSelector2().length>0){var w=this.$StickersFlyoutPackSelector3(this.props.selectedPackID);if(this.state.page!==w)this.$StickersFlyoutPackSelector4(w,0);}};u.prototype.$StickersFlyoutPackSelector1=function(){var w=this.$StickersFlyoutPackSelector2();if(w.length>0){this.$StickersFlyoutPackSelector5(w[0].id);}else c('StickersActions').trayLoaded();};u.prototype.$StickersFlyoutPackSelector2=function(){var w=this.props.packs.sticker_store.tray_packs.edges.map(function(x){return x.node;});if(c('StickersConfig').oz_pack)w.unshift(c('StickersConfig').oz_pack);if(c('StickersConfig').mru_stickers_count!==0)w.unshift(c('StickersConfig').mru_pack);if(c('StickersConfig').search_pack)w.unshift(c('StickersConfig').search_pack);return w;};u.prototype.$StickersFlyoutPackSelector3=function(w){var x=this.$StickersFlyoutPackSelector2();for(var y=0;y<x.length;y++)if(x[y].id==w)return y<=p?0:Math.floor((y-1)/p);return 0;};u.prototype.$StickersFlyoutPackSelector4=function(w,x){if(this.state.animating)return;this.setState({animating:true,page:w},function(){var y=c('ReactDOM').findDOMNode(this.refs.positioner),z=this.$StickersFlyoutPackSelector6(w);new (c('Animation'))(y).to(z.reference,z.offset+'px').ondone(function(){return this.setState({animating:false});}.bind(this)).duration(x).go();});};u.prototype.$StickersFlyoutPackSelector6=function(w){var x=c('ReactDOM').findDOMNode(this.refs.positioner),y=x.childNodes[w].offsetLeft;if(c('Locale').isRTL()){var z=x.offsetWidth,aa=x.childNodes[w].offsetWidth;return {reference:'right',offset:y+aa-z};}return {reference:'left',offset:-y};};u.prototype.$StickersFlyoutPackSelector7=function(){return Math.max(1,Math.ceil((this.$StickersFlyoutPackSelector2().length-1)/p));};u.prototype.$StickersFlyoutPackSelector8=function(){return this.state.page>0;};u.prototype.$StickersFlyoutPackSelector9=function(){return this.state.page+1<this.$StickersFlyoutPackSelector7();};u.prototype.render=function(){return c('React').createElement('div',{className:"_5r85"},this.$StickersFlyoutPackSelector13(),this.$StickersFlyoutPackSelector14(),this.$StickersFlyoutPackSelector15(),c('React').createElement('div',{className:"_5r88"},c('React').createElement('div',{className:"_5r89",ref:'positioner'},this.$StickersFlyoutPackSelector16())));};u.prototype.$StickersFlyoutPackSelector5=function(w){c('StickersActions').selectTrayPack(w);};u.prototype.$StickersFlyoutPackSelector16=function(){var w=this.$StickersFlyoutPackSelector2().map(function(aa,ba){return c('React').createElement(t,{key:aa.id,onClick:function(){return this.$StickersFlyoutPackSelector5(aa.id);}.bind(this),pack:aa,selected:this.props.selectedPackID===aa.id,index:ba,isComments:this.props.stickerInterface==c('StickerInterfaces').COMMENTS});}.bind(this)),x=[];for(var y=0;y<w.length;y+=p){var z=y;y===0&&y++;x.push(c('React').createElement('div',{className:"_5r81",key:y},w.slice(z,y+p)));}return x;};u.prototype.$StickersFlyoutPackSelector13=function(){return c('React').createElement('a',{'aria-label':r,className:"_5r86 rfloat",'data-hover':'tooltip',href:'#',onClick:this.$StickersFlyoutPackSelector12,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{className:"_5r87",src:j("87160")}),this.$StickersFlyoutPackSelector17());};u.prototype.$StickersFlyoutPackSelector17=function(){if(!this.props.packs.num_new_sticker_packs)return null;return c('React').createElement(c('XUIBadge.react'),{className:"rfloat _3fhs",count:this.props.packs.num_new_sticker_packs,maxcount:9,type:'special'});};u.prototype.$StickersFlyoutPackSelector14=function(){if(!this.$StickersFlyoutPackSelector8())return null;var w=c('Locale').isRTL()?j("87156"):j("87153");return c('React').createElement(c('Link.react'),{className:"_37wu"+(' '+"lfloat"),onClick:this.$StickersFlyoutPackSelector10,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{className:"_5r84",src:w}));};u.prototype.$StickersFlyoutPackSelector15=function(){if(!this.$StickersFlyoutPackSelector9())return null;var w=c('Locale').isRTL()?j("87153"):j("87156");return c('React').createElement(c('Link.react'),{className:"_37wv"+(' '+"rfloat"),onClick:this.$StickersFlyoutPackSelector11,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{className:"_5r84",src:w}));};u.propTypes={stickerInterface:o.oneOf(c('getObjectValues')(c('StickerInterfaces'))),selectedPackID:o.string};u.defaultProps={stickerInterface:c('StickerInterfaces').MESSAGES};f.exports=c('RelayClassic').createContainer(u,{initialVariables:{stickerInterface:c('StickerInterfaces').MESSAGES},fragments:{packs:function w(x){return function(){return {children:[{fieldName:'num_new_sticker_packs',kind:'Field',metadata:{},type:'Int'},{children:[{calls:[{kind:'Call',metadata:{type:'StickerInterfaces'},name:'interface',value:{kind:'CallVariable',callVariableName:'stickerInterface'}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:10000}}],children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'is_comments_capable',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_messenger_capable',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_composer_capable',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:20}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:20}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'thumbnail_image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'StickerPack'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PacksInTrayEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'tray_packs',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'PacksInTrayConnection'}],fieldName:'sticker_store',kind:'Field',metadata:{canHaveSubselections:true},type:'StickerStore'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutPackSelector_react_PacksRelayQL',type:'Viewer'};}();}}});m=babelHelpers.inherits(v,c('RelayMutation'));n=m&&m.prototype;v.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'set_sticker_store_opened',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'SetStickerStoreOpenedData!'},name:'StickersFlyoutPackSelector_react',responseType:'SetStickerStoreOpenedResponsePayload'};}();};v.prototype.getVariables=function(){return {actor_id:this.props.actor_id};};v.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'num_new_sticker_packs',kind:'Field',metadata:{},type:'Int'}],fieldName:'viewer',kind:'Field',metadata:{canHaveSubselections:true},type:'Viewer'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutPackSelector_reactRelayQL',type:'SetStickerStoreOpenedResponsePayload'};}();};v.prototype.getOptimisticResponse=function(){return {viewer:{num_new_sticker_packs:0}};};v.prototype.getConfigs=function(){var w=c('getViewerRecordID')();return [{type:c('RelayMutationType').FIELDS_CHANGE,fieldIDs:w?{viewer:w}:{}}];};function v(){m.apply(this,arguments);}}),null);
__d('StickersFlyoutPackSelectorRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='StickersFlyoutPackSelectorRoute';j.paramDefinitions={stickerInterface:{required:true,type:'String'}};j.queries={packs:function k(l,m){return function(n){return {children:[].concat.apply([],[c('RelayQL').__frag(n)]),fieldName:'viewer',kind:'Query',metadata:{},name:'StickersFlyoutPackSelectorRoute',type:'Viewer'};}(l.getFragment('packs',{stickerInterface:m.stickerInterface}));}};f.exports=j;}),null);
__d('StickersFlyoutStickerSelector.react',['cx','fbt','ix','Grid.react','Image.react','React','RelayClassic','RelayQL','ScrollableArea.react','Sticker.react','StickerConstants','StickerInterfaces','StickersActions','StickersConfig','StickersStateStore','StickerUtils','getObjectValues','throttle'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Grid.react').GridItem,n=c('React').PropTypes,o=320,p=278,q=44,r=112,s=Math.ceil(c('StickerConstants').TRAY_SIZE*(window.devicePixelRatio||1));k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=l.constructor).call.apply(v,[this].concat(y)),this.$StickersFlyoutStickerSelector1=function(){if(this.props.stickers_for_pack||this.props.stickers_for_mru_pack){var aa=this.props.stickers_for_pack?this.props.stickers_for_pack.stickers.edges:this.props.stickers_for_mru_pack.recently_used_stickers.edges;if(this.props.stickers_for_mru_pack){var ba=c('StickersStateStore').getState();if(!ba.get('recentStickersLoaded')){c('StickersActions').loadRecentStickers(this.props.stickers_for_mru_pack.recently_used_stickers.edges.map(function(ca){return ca.node;}));}else return this.props.recentStickers.filter(function(ca){return this.$StickersFlyoutStickerSelector5(ca);}.bind(this));}return aa.filter(function(ca){return this.$StickersFlyoutStickerSelector5(ca.node);}.bind(this));}else if(this.props.stickers_for_search){return this.props.stickers_for_search.sticker_results.edges;}else return null;}.bind(this),this.$StickersFlyoutStickerSelector5=function(aa){var ba=this.props.stickerInterface,ca=aa.pack;if(ba===c('StickerInterfaces').COMPOSER){return ca.is_composer_capable;}else if(ba===c('StickerInterfaces').COMMENTS){return ca.is_comments_capable;}else if(ba===c('StickerInterfaces').MESSAGES){return ca.is_messenger_capable;}else return true;}.bind(this),this.$StickersFlyoutStickerSelector2=function(){var aa=(o-q*2-r)/2;return c('React').createElement('div',{className:"_5jdt",style:{marginTop:aa+'px'}},c('React').createElement(c('Image.react'),{src:j("87146")}),c('React').createElement('p',null,i._("\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0644\u0635\u0642\u0627\u062a \u0644\u0625\u0638\u0647\u0627\u0631\u0647\u0627")));},this.$StickersFlyoutStickerSelector3=function(){var aa=this.refs.stickerScrollable;if(aa){var ba=aa.getArea().getScrollTop();this.props.onScroll&&this.props.onScroll(ba);}}.bind(this),w;}t.prototype.render=function(){var v=this.$StickersFlyoutStickerSelector1();if(!v||v.length===0)return this.$StickersFlyoutStickerSelector2();return c('React').createElement(c('ScrollableArea.react'),{ref:'stickerScrollable',height:this.props.height||o,onScroll:c('throttle')(this.$StickersFlyoutStickerSelector3,200),width:p,fade:true},c('React').createElement('div',{className:"_5r8k"},c('React').createElement(c('Grid.react'),{cols:4,fixed:true},this.$StickersFlyoutStickerSelector4(v))));};t.prototype.$StickersFlyoutStickerSelector4=function(v){return v.map(function(w){var x=w.node||w,y=x.sprite_image?x.sprite_image.uri:null,z=x.padded_sprite_image?x.padded_sprite_image.uri:null,aa=c('StickerUtils').getScaledDimensions(x.image.height,x.image.width,c('StickerConstants').TRAY_SIZE);return c('React').createElement(m,{key:x.id},c('React').createElement('div',{className:"_5r8h",onClick:function(event){return this.props.onStickerClick(x,event);}.bind(this),onKeyDown:function(event){return this.props.onStickerKeyDown(x,event);}.bind(this),role:'presentation'},c('React').createElement(c('Sticker.react'),{accessibilityLabel:x.label,animationTrigger:'hover',className:"_5r8i",forceCursorPointer:true,frameCount:x.frame_count,frameRate:x.frame_rate||83,framesPerCol:x.frames_per_column,framesPerRow:x.frames_per_row,sourceHeight:aa.height,sourceURI:x.image.uri,sourceWidth:aa.width,spriteURI:y,packName:x.pack.name,paddedSpriteURI:z,stickerID:x.id})));}.bind(this));};t.propTypes={height:n.number,onScroll:n.func,onStickerClick:n.func.isRequired,onStickerKeyDown:n.func.isRequired,recentStickers:n.array.isRequired,stickerInterface:n.oneOf(c('getObjectValues')(c('StickerInterfaces')))};t.defaultProps={stickerInterface:c('StickerInterfaces').MESSAGES};var u=function(v,w,x,y,z,aa){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'label',kind:'Field',metadata:{},type:'String'},{fieldName:'frame_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'frame_rate',kind:'Field',metadata:{},type:'Int'},{fieldName:'frames_per_column',kind:'Field',metadata:{},type:'Int'},{fieldName:'frames_per_row',kind:'Field',metadata:{},type:'Int'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(v)},{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(w)}],children:[{fieldName:'height',kind:'Field',metadata:{},type:'Int'},{fieldName:'width',kind:'Field',metadata:{},type:'Int'},{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(x)},{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(y)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'sprite_image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(z)},{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(aa)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'padded_sprite_image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'is_comments_capable',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_composer_capable',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_messenger_capable',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'pack',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'StickerPack'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutStickerSelector_reactRelayQL',type:'Sticker'};}(s,s,s,s,s,s);f.exports=c('RelayClassic').createContainer(t,{initialVariables:{stickerInterface:c('StickerInterfaces').MESSAGES},fragments:{stickers_for_pack:function v(){return function(w){return {children:[{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:1000}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(w)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Sticker'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'StickersInPackEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'stickers',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'StickersInPackConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutStickerSelector_react_Stickers_for_packRelayQL',type:'StickerPack'};}(u);},stickers_for_search:function v(w){var x=w.stickerInterface;return function(y){return {children:[{calls:[{kind:'Call',metadata:{type:'StickerInterfaces'},name:'interface',value:{kind:'CallVariable',callVariableName:'stickerInterface'}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:40}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(y)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Sticker'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'StickerSearchResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'sticker_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'StickerSearchResultsConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutStickerSelector_react_Stickers_for_searchRelayQL',type:'StickerSearchQuery'};}(u);},stickers_for_mru_pack:function v(){return function(w,x){return {children:[{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:c('RelayQL').__var(w)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(x)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Sticker'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'RecentlyUsedStickersEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'recently_used_stickers',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'RecentlyUsedStickersConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutStickerSelector_react_Stickers_for_mru_packRelayQL',type:'Viewer'};}(c('StickersConfig').max_mru_stickers,u);}}});}),null);
__d('StickersFlyoutStickersForMRUPackRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='StickersFlyoutStickersForMRUPackRoute';j.queries={stickers_for_mru_pack:function k(l){return function(m){return {children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'viewer',kind:'Query',metadata:{},name:'StickersFlyoutStickersForMRUPackRoute',type:'Viewer'};}(l.getFragment('stickers_for_mru_pack'));}};f.exports=j;}),null);
__d('StickersFlyoutStickersForPackRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='StickersFlyoutStickersForPackRoute';j.paramDefinitions={id:{required:true,type:'String'}};j.queries={stickers_for_pack:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'id'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'StickersFlyoutStickersForPackRoute',type:'Node'};}(l.getFragment('stickers_for_pack'));}};f.exports=j;}),null);
__d('StickersFlyoutStickersForSearchRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='StickersFlyoutStickersForSearchRoute';j.paramDefinitions={query:{required:true,type:'String'},stickerInterface:{required:true,type:'String'}};j.queries={stickers_for_search:function k(l,m){var n=m.stickerInterface;return function(o){return {calls:[{kind:'Call',metadata:{type:'String!'},name:'query',value:{kind:'CallVariable',callVariableName:'query'}}],children:[].concat.apply([],[c('RelayQL').__frag(o)]),fieldName:'sticker_search',kind:'Query',metadata:{identifyingArgName:'query',identifyingArgType:'String!'},name:'StickersFlyoutStickersForSearchRoute',type:'StickerSearchQuery'};}(l.getFragment('stickers_for_search',{stickerInterface:n}));}};f.exports=j;}),null);
__d('StickersFlyoutTags.react',['cx','Grid.react','Image.react','React','RelayClassic','RelayQL','ScrollableArea.react','XUIButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('Grid.react').GridItem,j=function k(l){var m=l.tags.sticker_store.sticker_tags.edges.filter(function(n){return n.node.thumbnail_image.uri!==null;}).sort(function(n,o){return n.node.order-o.node.order;}).map(function(n,o){return c('React').createElement(i,{key:o},c('React').createElement('div',{className:"_t5c"+(o<2?' '+"_1b27":'')+(o%2===0?' '+"_t5d":'')+(o%2!==0?' '+"_t5e":'')},c('React').createElement(c('XUIButton.react'),{image:c('React').createElement(c('Image.react'),{src:n.node.thumbnail_image.uri}),label:n.node.name,onClick:function p(){return l.onTagSelect(n.node);},className:"_5jdu",style:{background:'#'+n.node.color_code},disabled:l.inputDisabled})));});return c('React').createElement(c('ScrollableArea.react'),{height:l.height,width:l.width,shadow:true,fade:true,className:"_5jei"},c('React').createElement(c('Grid.react'),{spacing:'pas',cols:2,fixed:true},m));};f.exports=c('RelayClassic').createContainer(j,{fragments:{tags:function k(){return function(){return {children:[{children:[{calls:[{kind:'Call',metadata:{type:'StickerTagType'},name:'sticker_tag_type',value:{kind:'CallValue',callValue:'FEATURED'}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:20}}],children:[{children:[{children:[{fieldName:'order',kind:'Field',metadata:{},type:'Int'},{fieldName:'color_code',kind:'Field',metadata:{},type:'String'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'thumbnail_image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'StickerTag'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'AllStickerTagsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'sticker_tags',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'AllStickerTagsConnection'}],fieldName:'sticker_store',kind:'Field',metadata:{canHaveSubselections:true},type:'StickerStore'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'StickersFlyoutTags_react_TagsRelayQL',type:'Viewer'};}();}}});}),null);
__d('StickersFlyoutTagsRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='StickersFlyoutTagsRoute';j.queries={tags:function k(l){return function(m){return {children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'viewer',kind:'Query',metadata:{},name:'StickersFlyoutTagsRoute',type:'Viewer'};}(l.getFragment('tags'));}};f.exports=j;}),null);
__d('StickersFlyoutTagSelector.react',['cx','fbt','Banzai','React','RelayRootContainer','StickersFlyoutStickerSelector.react','StickersFlyoutStickersForSearchRoute','StickersFlyoutTags.react','StickersFlyoutTagsRoute','StickerInterfaces','StickersTypedLogger','StickerUtils','XUICloseButton.react','XUISpinner.react','XUITextInput.react','debounce','getObjectValues'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=320,l=278,m=44,n=c('debounce')(function(p){if(!p||p.length<2)return;new (c('StickersTypedLogger'))().setEvent('search_sticker').setSearchtoken(p).log();},1000),o=c('React').createClass({displayName:'StickersFlyoutTagSelector',propTypes:{onStickerClick:j.func.isRequired,onStickerKeyDown:j.func.isRequired,stickerInterface:j.oneOf(c('getObjectValues')(c('StickerInterfaces'))),shown:j.bool},getInitialState:function p(){return {input:'',isScrolling:false,tagChosen:false};},getDefaultProps:function p(){return {stickerInterface:c('StickerInterfaces').MESSAGES};},componentDidMount:function p(){this._focusInput();},componentWillReceiveProps:function p(q){if(q.shown&&!this.props.shown)this.setState(this.getInitialState(),this._focusInput);},shouldComponentUpdate:function p(q){return q.shown;},render:function p(){return c('React').createElement('div',{className:"_217a"+(this.state.isScrolling?' '+"_1hg1":'')},c('React').createElement('div',{className:"_5jdr"},c('React').createElement('span',{className:"_5jds"}),c('React').createElement(c('XUITextInput.react'),{onChange:this._inputChanged,onClick:function q(r){return r&&r.stopPropagation();},ref:'inputField',placeholder:i._("\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0645\u0644\u0635\u0642\u0627\u062a"),value:this.state.input}),c('React').createElement(c('XUICloseButton.react'),{size:'small',onClick:this._handleResetButtonClick,className:this.state.input.length===0?"hidden_elem":''})),this._renderContentArea());},_renderContentArea:function p(){var q=this._normalizeInput(this.state.input),r=c('React').createElement('div',{className:"_e0r"},c('React').createElement(c('XUISpinner.react'),{size:'large'}));if(this.state.tagChosen||q.length>1){n(q);return c('React').createElement(c('RelayRootContainer'),{Component:c('StickersFlyoutStickerSelector.react'),route:new (c('StickersFlyoutStickersForSearchRoute'))({query:q,stickerInterface:this.props.stickerInterface}),renderLoading:function s(){return r;},renderFetched:function(s){return c('React').createElement(c('StickersFlyoutStickerSelector.react'),babelHelpers['extends']({},s,{ref:'selector',height:k-m,onScroll:this._onScroll,onStickerClick:this._onStickerClick,onStickerKeyDown:this.props.onStickerKeyDown,recentStickers:[],stickerInterface:this.props.stickerInterface}));}.bind(this)});}else return c('React').createElement(c('RelayRootContainer'),{Component:c('StickersFlyoutTags.react'),route:new (c('StickersFlyoutTagsRoute'))(),renderLoading:function s(){return r;},renderFetched:function(s){return c('React').createElement(c('StickersFlyoutTags.react'),babelHelpers['extends']({},s,{height:k-m,inputDisabled:q.length===1,onTagSelect:this._selectTag,width:l-16}));}.bind(this)});},_onScroll:function p(q){this.setState({isScrolling:!!q});},_selectTag:function p(q){new (c('StickersTypedLogger'))().setEvent('select_tag').setTagid(q.id).log();this.setState({tagChosen:true,input:c('StickerUtils').capitalizeWords(q.name)});this._focusInput();},_normalizeInput:function p(q){return q.trim().replace(/\s+/,' ').toLowerCase();},_handleResetButtonClick:function p(q){q.preventDefault();this.setState(this.getInitialState());},_inputChanged:function p(q){this.setState({input:q.target.value,tagChosen:false,isScrolling:false});},_focusInput:function p(){this.refs.inputField.focusInput&&this.refs.inputField.focusInput();},_onStickerClick:function p(q,event){this.props.onStickerClick(q,event);try{if(c('Banzai').isEnabled('sticker_search_ranking')){var r={query:this._normalizeInput(this.state.input),sticker_id:q.id};c('Banzai').post('sticker_search_click',r,c('Banzai').VITAL);}}catch(s){}}});f.exports=o;}),null);
__d('StickersFlyout.react',['cx','fbt','Keys','MessagesEmoticons.react','ReactComponentWithPureRenderMixin','PureStoreBasedStateMixin','React','RelayRootContainer','StickerConstants','StickersActions','StickersConfig','StickersFlyoutPackSelector.react','StickersFlyoutPackSelectorRoute','StickersFlyoutStickerSelector.react','StickersFlyoutStickersForPackRoute','StickersFlyoutStickersForMRUPackRoute','StickersFlyoutTagSelector.react','StickerInterfaces','StickersStateStore','StickersDispatcher','StickersTypedLogger','XUISpinner.react','getObjectValues','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('StickerConstants').SEARCH_PACK_ID,l=['Enter',' '],m=c('React').createClass({displayName:'StickersFlyout',mixins:[c('ReactComponentWithPureRenderMixin'),c('PureStoreBasedStateMixin')(c('StickersStateStore'))],statics:{calculateState:function n(){var o=c('StickersStateStore').getState();return {packID:o.get('trayPackID'),trayLoaded:o.get('trayLoaded')};}},propTypes:{stickerInterface:j.oneOf(c('getObjectValues')(c('StickerInterfaces'))),onStickerSelect:j.func.isRequired,onEmoticonSelect:j.func,onShown:j.func,onHidden:j.func,onEscKeyDown:j.func,shown:j.bool},getDefaultProps:function n(){return {stickerInterface:c('StickerInterfaces').MESSAGES,shown:false};},componentWillMount:function n(){c('StickersDispatcher').explicitlyRegisterStores([c('StickersStateStore')]);},componentDidMount:function n(){if(this.props.shown)this._onShown();},componentWillReceiveProps:function n(o){if(o.shown){this._onShownWrapper();}else this._onHidden();},componentDidUpdate:function n(o){if(!o.shown&&this.props.shown){this._onShown();}else if(o.shown&&!this.props.shown)this._onHidden();},_onShownWrapper:function n(){if(this.props.onShown){this.props.onShown(this._onShown);}else this._onShown();},_onShown:function n(){new (c('StickersTypedLogger'))().setEvent('open_tray').log();},_onHidden:function n(){this.props.onHidden&&this.props.onHidden();},_onKeyDown:function n(event){if(event.keyCode===c('Keys').ESC&&this.props.onEscKeyDown){event.stopPropagation();event.preventDefault();this.props.onEscKeyDown();}},_onKeyPress:function n(event){if(this.state.packID!==k&&l.indexOf(event.key)===-1)c('StickersActions').selectTrayPack(k);},loadPack:function n(){var o=c('React').createElement('div',{className:"_e0r"},c('React').createElement(c('XUISpinner.react'),{size:'large'}));if(!this.state.trayLoaded)return o;if(this.state.packID===c('StickerConstants').EMOTICON_PACK_ID)return c('React').createElement('div',{className:"_5r8l",'data-id':this.state.packID},c('React').createElement(c('MessagesEmoticons.react'),{onEmoticonSelect:this.props.onEmoticonSelect}));if(this.state.packID===k&&c('StickersConfig').search_pack)return c('React').createElement('div',{className:"_5r8l"},c('React').createElement(c('StickersFlyoutTagSelector.react'),{className:"fbStickersFlyoutTagSelector",stickerInterface:this.props.stickerInterface,shown:this.props.shown,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown}));var p=this.state.packID===c('StickerConstants').MRU_STICKER_PACK?new (c('StickersFlyoutStickersForMRUPackRoute'))():new (c('StickersFlyoutStickersForPackRoute'))({id:this.state.packID});return c('React').createElement('div',{className:"_5r8l",'data-id':this.state.packID},c('React').createElement(c('RelayRootContainer'),{Component:c('StickersFlyoutStickerSelector.react'),route:p,renderLoading:function q(){return o;},renderFetched:function(q){return c('React').createElement(c('StickersFlyoutStickerSelector.react'),babelHelpers['extends']({},q,{recentStickers:c('StickersStateStore').getState().get('recentStickers'),stickerInterface:this.props.stickerInterface,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown}));}.bind(this)}));},_onStickerClick:function n(o,event){if(c('StickersStateStore').getState().get('recentStickersLoaded'))c('StickersActions').addRecentSticker(o);this.props.onStickerSelect(o.id,event,{label:o.label});},_onStickerKeyDown:function n(o,event){if(event.keyCode===c('Keys').RETURN){event.stopPropagation();event.preventDefault();this.props.onStickerSelect(o.id,event,{label:o.label});}},render:function n(){return c('React').createElement('div',{'aria-label':i._("\u0645\u0644\u0635\u0642\u0627\u062a"),className:c('joinClasses')(this.props.className,"_5r8f"),onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,role:'dialog'},c('React').createElement('div',{className:"_5r8e"},c('React').createElement(c('RelayRootContainer'),{Component:c('StickersFlyoutPackSelector.react'),route:new (c('StickersFlyoutPackSelectorRoute'))({stickerInterface:this.props.stickerInterface}),renderFetched:function(o){return c('React').createElement(c('StickersFlyoutPackSelector.react'),babelHelpers['extends']({},o,{selectedPackID:this.state.packID,stickerInterface:this.props.stickerInterface,shown:this.props.shown}));}.bind(this)})),c('React').createElement('div',{className:"_5r8m"},this.loadPack()));}});f.exports=m;}),null);
__d('ReactComposerStickerToggleController.react',['cx','invariant','Arbiter','ContextualLayerAutoFlip','LayerTabIsolation','React','ReactComponentWithPureRenderMixin','ReactComposerContextMixin','ReactComposerEvents','ReactComposerLoggingName','ReactComposerTaggerActions','StickerInterfaces','StickersFlyout.react','XUIContextualDialog.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerStickerToggleController',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{taggerID:j.string.isRequired,loggingName:j.oneOf(Object.values(c('ReactComposerLoggingName'))).isRequired,children:j.any,showFlyout:j.bool.isRequired},render:function l(){return c('React').createElement('span',{className:"_3dsw",onClick:this._onSelect,ref:'container',role:'presentation'},this.props.children,this._renderStickerFlyout());},_renderStickerFlyout:function l(){if(!this.props.showFlyout)return null;return c('React').createElement(c('XUIContextualDialog.react'),{alignment:'left',behaviors:{ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),LayerTabIsolation:c('LayerTabIsolation')},className:"_3dsx",contextRef:function(){return this.refs.container;}.bind(this),onBlur:this._hideFlyout,onToggle:function(m){if(!m&&this.props.showFlyout)this._hideFlyout();}.bind(this),position:'below',shown:this.props.showFlyout,hasActionableContext:true,width:278},c('React').createElement('div',null,c('React').createElement(c('StickersFlyout.react'),{onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:c('StickerInterfaces').COMPOSER,shown:this.props.showFlyout})));},_onSelect:function l(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,this.props.loggingName,this.props.taggerID,false);},_hideFlyout:function l(){if(this.props.showFlyout)c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,this.props.loggingName);},_onStickerSelected:function l(m,event,n){c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,this.props.loggingName,this.props.taggerID,{stickerID:m,accessibilityLabel:n?n.label:''});this._hideFlyout();c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);},_onEmoticonSelected:function l(m){i(0);}});f.exports=k;}),null);
__d('ReactComposerStickerSproutContainer.react',['FluxContainer','React','ReactComposerContextMixin','ReactComposerSproutItem.react','ReactComposerSproutsDefaultUIConfig','ReactComposerSproutType','ReactComposerStickerToggleController.react','ReactComposerTaggerStore','ReactComposerTaggerType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('ReactComposerContextMixin').contextTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.getStores=function(){return [c('ReactComposerTaggerStore')];};k.calculateState=function(l,m,n){var o=n.composerID;return {highlighted:c('ReactComposerTaggerStore').hasData(o,c('ReactComposerTaggerType').STICKER),shouldHide:c('ReactComposerTaggerStore').isDisabled(o,c('ReactComposerTaggerType').STICKER),isSelected:c('ReactComposerTaggerStore').getSelectedTagger(o)===c('ReactComposerTaggerType').STICKER};};k.prototype.render=function(){if(this.state.shouldHide)return null;return c('React').createElement(c('ReactComposerStickerToggleController.react'),babelHelpers['extends']({},this.props,{showFlyout:this.state.isSelected,taggerID:c('ReactComposerTaggerType').STICKER,loggingName:this.props.uiConfig.loggingName}),c('React').createElement(c('ReactComposerSproutItem.react'),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}));};function k(){h.apply(this,arguments);}k.defaultProps={uiConfig:c('ReactComposerSproutsDefaultUIConfig')[c('ReactComposerSproutType').STICKER]};k.contextTypes=j;f.exports=c('FluxContainer').create(k,{withContext:true,withProps:true});}),null);